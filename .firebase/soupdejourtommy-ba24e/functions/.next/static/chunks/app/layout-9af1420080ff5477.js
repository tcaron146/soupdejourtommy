(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{3144:function(e,t,r){Promise.resolve().then(r.bind(r,9761))},4418:function(e,t,r){"use strict";r.d(t,{H:function(){return c},_:function(){return u}});var n=r(7437),s=r(2265),a=r(3105),i=r(3085),l=r(4086);let o=(0,s.createContext)(),c=e=>{let{children:t}=e,[r,c]=(0,s.useState)(null),u=async(e,t,r,n)=>{let s=await (0,i.Xb)(a.I,e,t);return await (0,i.ck)(s.user,{displayName:r}),await (0,l.pl)((0,l.JU)(a.db,"users",s.user.uid),{username:r,birthday:n,avatarUrl:"",bio:"",createdAt:Date.now()}),s.user},d=async()=>{let e=new i.hJ,t=await (0,i.rh)(a.I,e);await (0,l.pl)((0,l.JU)(a.db,"users",t.user.uid),{username:t.user.displayName,avatarUrl:t.user.photoURL,bio:"",birthday:""},{merge:!0})};return(0,s.useEffect)(()=>{let e=a.I.onAuthStateChanged(e=>{if(!e){c(null);return}let t=(0,l.JU)(a.db,"users",e.uid),r=(0,l.cf)(t,t=>{let r=t.data()||{};c({uid:e.uid,email:e.email,username:r.username||e.displayName||"User",avatarUrl:r.avatarUrl||"",bio:r.bio||"",birthday:r.birthday||""})});return()=>r()});return()=>e()},[]),(0,n.jsx)(o.Provider,{value:{user:r,emailSignIn:(e,t)=>(0,i.e5)(a.I,e,t),emailSignUp:u,googleSignIn:d,logOut:()=>(0,i.w7)(a.I)},children:t})},u=()=>(0,s.useContext)(o)},3105:function(e,t,r){"use strict";r.d(t,{I:function(){return o},db:function(){return c},t:function(){return u}});var n=r(994),s=r(3085),a=r(4086),i=r(9584);let l=(0,n.ZF)({apiKey:"AIzaSyAF8-fQl5ForsCDmsmcZJ7NIvfP0BxOIZE",authDomain:"soupdejourtommy-ba24e.firebaseapp.com",projectId:"soupdejourtommy-ba24e",storageBucket:"soupdejourtommy-ba24e.appspot.com",messagingSenderId:"880724282692",appId:"1:880724282692:web:71e1cc9f07dc8f90b21b11",measurementId:"G-YSN6SG0RZV"}),o=(0,s.v0)(l),c=(0,a.ad)(l),u=(0,i.cF)(l)},9761:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return p}});var n=r(7437),s=r(7977),a=r.n(s),i=r(2265),l=r(7431),o=r(9150),c=r(4606),u=r(3159),d=r(1396),m=r.n(d),f=r(4418);function h(){let{user:e,logOut:t}=(0,f._)()||{},[r,s]=(0,i.useState)(!1),a=(0,i.useRef)(null);(0,i.useEffect)(()=>{let e=e=>{r&&a.current&&!a.current.contains(e.target)&&s(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[r]);let d=(null==e?void 0:e.avatarUrl)&&""!==e.avatarUrl.trim()?e.avatarUrl:"/default-avatar.png";return(0,n.jsxs)("div",{className:"flex justify-between items-center w-full h-20 px-6 bg-secondary text-primary fixed top-0 left-0 z-20 shadow-md",children:[(0,n.jsxs)(m(),{href:"/",className:"text-2xl font-bold tracking-wide cursor-pointer",children:["Soup",(0,n.jsx)("span",{className:"text-accent",children:"DeJour"})]}),(0,n.jsxs)("ul",{className:"hidden md:flex items-center gap-8 text-lg",children:[(0,n.jsx)("li",{children:(0,n.jsx)(m(),{href:"/",children:"Home"})}),(0,n.jsx)("li",{children:(0,n.jsx)(m(),{href:"/stories",children:"Stories"})}),(0,n.jsx)("li",{children:(0,n.jsx)(m(),{href:"/reviews",children:"Food"})}),(0,n.jsx)("li",{children:(0,n.jsx)(m(),{href:"/first",children:"First"})})]}),(0,n.jsxs)("div",{className:"hidden md:flex items-center gap-5",children:[(0,n.jsx)(c.dVI,{size:20,className:"cursor-pointer"}),(0,n.jsx)(m(),{href:"https://www.instagram.com/soupdejourtommy/",children:(0,n.jsx)(u.Zf_,{size:20,className:"cursor-pointer"})}),e?(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[(0,n.jsx)(m(),{href:"/profile/".concat(e.uid),children:(0,n.jsx)("img",{src:d,alt:"profile",className:"w-9 h-9 rounded-full cursor-pointer border border-primary/40 hover:opacity-80"})}),(0,n.jsx)("button",{onClick:t,className:"hover:text-accent transition",children:"Logout"})]}):(0,n.jsx)(m(),{href:"/login",className:"hover:text-accent",children:"Login"})]}),(0,n.jsx)("div",{onClick:()=>s(e=>!e),className:"md:hidden cursor-pointer",children:r?(0,n.jsx)(o.oHP,{size:22}):(0,n.jsx)(l.FlW,{size:22})}),(0,n.jsx)("div",{ref:a,className:"absolute bg-secondary w-full left-0 top-20 shadow-xl transition-all duration-300 md:hidden ".concat(r?"opacity-100":"opacity-0 pointer-events-none"),children:(0,n.jsxs)("ul",{className:"flex flex-col gap-4 p-6 text-lg",children:[(0,n.jsx)(m(),{href:"/",onClick:()=>s(!1),children:"Home"}),(0,n.jsx)(m(),{href:"/forum",onClick:()=>s(!1),children:"Forum"}),(0,n.jsx)(m(),{href:"/blog",onClick:()=>s(!1),children:"Blog"}),(0,n.jsx)(m(),{href:"/first",onClick:()=>s(!1),children:"First"}),e&&(0,n.jsxs)(m(),{href:"/profile/".concat(e.uid),className:"flex items-center gap-3 mt-4",onClick:()=>s(!1),children:[(0,n.jsx)("img",{src:d,className:"w-10 h-10 rounded-full border border-primary/40"}),(0,n.jsx)("p",{className:"text-primary",children:e.username})]}),(0,n.jsx)("div",{className:"flex items-center gap-4 pt-4 border-t mt-4",children:e?(0,n.jsx)("button",{onClick:()=>{t(),s(!1)},children:"Logout"}):(0,n.jsx)(m(),{href:"/login",onClick:()=>s(!1),children:"Login"})})]})})]})}function p(e){let{children:t}=e;return(0,n.jsxs)("html",{lang:"en",children:[(0,n.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,n.jsx)("body",{className:a().className,children:(0,n.jsx)(f.H,{children:(0,n.jsxs)("div",{className:"min-h-[100vh] bg-secondary",children:[(0,n.jsx)(h,{}),t]})})})]})}r(695),r(625)},625:function(){},7977:function(e){e.exports={style:{fontFamily:"'__Inter_f367f3', '__Inter_Fallback_f367f3'",fontStyle:"normal"},className:"__className_f367f3"}},1396:function(e,t,r){e.exports=r(5250)},1172:function(e,t,r){"use strict";r.d(t,{w_:function(){return o}});var n=r(2265),s={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},a=n.createContext&&n.createContext(s),i=function(){return(i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var s in t=arguments[r])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)},l=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)0>t.indexOf(n[s])&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};function o(e){return function(t){return n.createElement(c,i({attr:i({},e.attr)},t),function e(t){return t&&t.map(function(t,r){return n.createElement(t.tag,i({key:r},t.attr),e(t.child))})}(e.child))}}function c(e){var t=function(t){var r,s=e.attr,a=e.size,o=e.title,c=l(e,["attr","size","title"]),u=a||t.size||"1em";return t.className&&(r=t.className),e.className&&(r=(r?r+" ":"")+e.className),n.createElement("svg",i({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,s,c,{className:r,style:i(i({color:e.color||t.color},t.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&n.createElement("title",null,o),e.children)};return void 0!==a?n.createElement(a.Consumer,null,function(e){return t(e)}):t(s)}}},function(e){e.O(0,[358,220,982,420,447,712,271,250,695,971,938,744],function(){return e(e.s=3144)}),_N_E=e.O()}]);