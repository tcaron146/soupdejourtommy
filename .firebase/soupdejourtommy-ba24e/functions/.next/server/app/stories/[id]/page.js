(()=>{var e={};e.id=458,e.ids=[458],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},39491:e=>{"use strict";e.exports=require("assert")},50852:e=>{"use strict";e.exports=require("async_hooks")},14300:e=>{"use strict";e.exports=require("buffer")},96206:e=>{"use strict";e.exports=require("console")},6113:e=>{"use strict";e.exports=require("crypto")},67643:e=>{"use strict";e.exports=require("diagnostics_channel")},9523:e=>{"use strict";e.exports=require("dns")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},85158:e=>{"use strict";e.exports=require("http2")},41808:e=>{"use strict";e.exports=require("net")},15673:e=>{"use strict";e.exports=require("node:events")},84492:e=>{"use strict";e.exports=require("node:stream")},47261:e=>{"use strict";e.exports=require("node:util")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},4074:e=>{"use strict";e.exports=require("perf_hooks")},77282:e=>{"use strict";e.exports=require("process")},63477:e=>{"use strict";e.exports=require("querystring")},12781:e=>{"use strict";e.exports=require("stream")},35356:e=>{"use strict";e.exports=require("stream/web")},71576:e=>{"use strict";e.exports=require("string_decoder")},24404:e=>{"use strict";e.exports=require("tls")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},29830:e=>{"use strict";e.exports=require("util/types")},71267:e=>{"use strict";e.exports=require("worker_threads")},59796:e=>{"use strict";e.exports=require("zlib")},13934:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>d,pages:()=>u,routeModule:()=>p,tree:()=>c});var s=r(50482),i=r(69108),a=r(62563),n=r.n(a),o=r(68300),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let c=["",{children:["stories",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,2255)),"C:\\Users\\tcaro\\soupdejour\\soupdejourtommy\\app\\stories\\[id]\\page.jsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,73472)),"C:\\Users\\tcaro\\soupdejour\\soupdejourtommy\\app\\layout.jsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,69361,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],u=["C:\\Users\\tcaro\\soupdejour\\soupdejourtommy\\app\\stories\\[id]\\page.jsx"],d="/stories/[id]/page",x={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/stories/[id]/page",pathname:"/stories/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},3651:(e,t,r)=>{Promise.resolve().then(r.bind(r,39149))},66378:(e,t,r)=>{Promise.resolve().then(r.bind(r,24403))},53399:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2583,23)),Promise.resolve().then(r.t.bind(r,26840,23)),Promise.resolve().then(r.t.bind(r,38771,23)),Promise.resolve().then(r.t.bind(r,13225,23)),Promise.resolve().then(r.t.bind(r,9295,23)),Promise.resolve().then(r.t.bind(r,43982,23))},15849:(e,t,r)=>{"use strict";r.d(t,{H:()=>c,_:()=>u});var s=r(95344),i=r(3729),a=r(28185),n=r(62727),o=r(48414);let l=(0,i.createContext)(),c=({children:e})=>{let[t,r]=(0,i.useState)(null),c=async(e,t,r,s)=>{let i=await (0,n.Xb)(a.I,e,t);return await (0,n.ck)(i.user,{displayName:r}),await (0,o.pl)((0,o.JU)(a.db,"users",i.user.uid),{username:r,birthday:s,avatarUrl:"",bio:"",createdAt:Date.now()}),i.user},u=async()=>{let e=new n.hJ,t=await (0,n.rh)(a.I,e);await (0,o.pl)((0,o.JU)(a.db,"users",t.user.uid),{username:t.user.displayName,avatarUrl:t.user.photoURL,bio:"",birthday:""},{merge:!0})};return(0,i.useEffect)(()=>{let e=a.I.onAuthStateChanged(e=>{if(!e){r(null);return}let t=(0,o.JU)(a.db,"users",e.uid),s=(0,o.cf)(t,t=>{let s=t.data()||{};r({uid:e.uid,email:e.email,username:s.username||e.displayName||"User",avatarUrl:s.avatarUrl||"",bio:s.bio||"",birthday:s.birthday||""})});return()=>s()});return()=>e()},[]),s.jsx(l.Provider,{value:{user:t,emailSignIn:(e,t)=>(0,n.e5)(a.I,e,t),emailSignUp:c,googleSignIn:u,logOut:()=>(0,n.w7)(a.I)},children:e})},u=()=>(0,i.useContext)(l)},28185:(e,t,r)=>{"use strict";r.d(t,{I:()=>l,db:()=>c,t:()=>u});var s=r(76041),i=r(62727),a=r(48414),n=r(73424);let o=0===(0,s.C6)().length?(0,s.ZF)({apiKey:"AIzaSyAF8-fQl5ForsCDmsmcZJ7NIvfP0BxOIZE",authDomain:"soupdejourtommy-ba24e.firebaseapp.com",projectId:"soupdejourtommy-ba24e",storageBucket:"soupdejourtommy-ba24e.appspot.com",messagingSenderId:"880724282692",appId:"1:880724282692:web:71e1cc9f07dc8f90b21b11",measurementId:"G-YSN6SG0RZV"}):(0,s.C6)()[0],l=(0,i.v0)(o),c=(0,a.ad)(o),u=(0,n.cF)(o)},39149:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>h});var s=r(95344),i=r(47594),a=r.n(i),n=r(3729),o=r(93079),l=r(73728),c=r(32698),u=r(28963),d=r(20783),x=r.n(d),p=r(15849);function m(){let{user:e,logOut:t}=(0,p._)()||{},[r,i]=(0,n.useState)(!1),a=(0,n.useRef)(null);(0,n.useEffect)(()=>{let e=e=>{r&&a.current&&!a.current.contains(e.target)&&i(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[r]);let d=e?.avatarUrl&&""!==e.avatarUrl.trim()?e.avatarUrl:"/default-avatar.png";return(0,s.jsxs)("div",{className:"flex justify-between items-center w-full h-20 px-6 bg-secondary text-primary fixed top-0 left-0 z-20 shadow-md",children:[(0,s.jsxs)(x(),{href:"/",className:"text-2xl font-bold tracking-wide cursor-pointer",children:["Soup",s.jsx("span",{className:"text-accent",children:"DeJour"})]}),(0,s.jsxs)("ul",{className:"hidden md:flex items-center gap-8 text-lg",children:[s.jsx("li",{children:s.jsx(x(),{href:"/",children:"Home"})}),s.jsx("li",{children:s.jsx(x(),{href:"/stories",children:"Stories"})}),s.jsx("li",{children:s.jsx(x(),{href:"/reviews",children:"Reviews"})}),s.jsx("li",{children:s.jsx(x(),{href:"/first",children:"First"})})]}),(0,s.jsxs)("div",{className:"hidden md:flex items-center gap-5",children:[s.jsx(c.dVI,{size:20,className:"cursor-pointer"}),s.jsx(x(),{href:"https://www.instagram.com/soupdejourtommy/",children:s.jsx(u.Zf_,{size:20,className:"cursor-pointer"})}),e?(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[s.jsx(x(),{href:`/profile/${e.uid}`,children:s.jsx("img",{src:d,alt:"profile",className:"w-9 h-9 rounded-full cursor-pointer border border-primary/40 hover:opacity-80"})}),s.jsx("button",{onClick:t,className:"hover:text-accent transition",children:"Logout"})]}):s.jsx(x(),{href:"/login",className:"hover:text-accent",children:"Login"})]}),s.jsx("div",{onClick:()=>i(e=>!e),className:"md:hidden cursor-pointer",children:r?s.jsx(l.oHP,{size:22}):s.jsx(o.FlW,{size:22})}),s.jsx("div",{ref:a,className:`absolute bg-secondary w-full left-0 top-20 shadow-xl transition-all duration-300 md:hidden ${r?"opacity-100":"opacity-0 pointer-events-none"}`,children:(0,s.jsxs)("ul",{className:"flex flex-col gap-4 p-6 text-lg",children:[s.jsx(x(),{href:"/",onClick:()=>i(!1),children:"Home"}),s.jsx(x(),{href:"/forum",onClick:()=>i(!1),children:"Forum"}),s.jsx(x(),{href:"/blog",onClick:()=>i(!1),children:"Blog"}),s.jsx(x(),{href:"/first",onClick:()=>i(!1),children:"First"}),e&&(0,s.jsxs)(x(),{href:`/profile/${e.uid}`,className:"flex items-center gap-3 mt-4",onClick:()=>i(!1),children:[s.jsx("img",{src:d,className:"w-10 h-10 rounded-full border border-primary/40"}),s.jsx("p",{className:"text-primary",children:e.username})]}),s.jsx("div",{className:"flex items-center gap-4 pt-4 border-t mt-4",children:e?s.jsx("button",{onClick:()=>{t(),i(!1)},children:"Logout"}):s.jsx(x(),{href:"/login",onClick:()=>i(!1),children:"Login"})})]})})]})}function h({children:e}){return(0,s.jsxs)("html",{lang:"en",children:[s.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),s.jsx("body",{className:a().className,children:s.jsx(p.H,{children:(0,s.jsxs)("div",{className:"min-h-[100vh] bg-secondary",children:[s.jsx(m,{}),e]})})})]})}r(8484),r(4047)},24403:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var s=r(95344),i=r(3729),a=r(20783),n=r.n(a);function o({prev:e,next:t}){return(0,s.jsxs)("div",{className:"flex justify-between items-center mt-14 pt-6 border-t border-neutral-700/40",children:[e?(0,s.jsxs)(n(),{href:`/stories/${e.id}`,className:"text-neutral-400 hover:text-white text-sm flex items-center gap-2",children:[s.jsx("span",{className:"text-xl",children:"←"})," ",e.title]}):s.jsx("div",{}),t?(0,s.jsxs)(n(),{href:`/stories/${t.id}`,className:"text-neutral-400 hover:text-white text-sm flex items-center gap-2",children:[t.title," ",s.jsx("span",{className:"text-xl",children:"→"})]}):s.jsx("div",{})]})}function l({title:e,content:t,prev:r,next:i}){return s.jsx("div",{className:"flex justify-center px-4 pt-28 pb-10",children:(0,s.jsxs)("article",{className:"max-w-3xl w-full",children:[s.jsx("h1",{className:"text-3xl font-bold mb-6 text-white leading-tight",children:e}),s.jsx("div",{className:"text-lg leading-relaxed whitespace-pre-line text-neutral-200",children:t}),s.jsx(o,{prev:r,next:i})]})})}function c(){let[e,t]=(0,i.useState)(null),[r,a]=(0,i.useState)(!0),[n,c]=(0,i.useState)(null),[u,d]=(0,i.useState)(null);return((0,i.useEffect)(()=>{},[]),(0,i.useEffect)(()=>{u&&e();async function e(){try{let e=await fetch(`/api/stories/${u}`);if(!e.ok)throw Error("Failed to load");let r=await e.json();t(r)}catch(e){console.error(e),c(e.message)}finally{a(!1)}}},[u]),r)?s.jsx("div",{className:"pt-32 text-center text-white",children:"Loading…"}):n?(0,s.jsxs)("div",{className:"pt-32 text-center text-white",children:["Error: ",n]}):e?(0,s.jsxs)(s.Fragment,{children:[s.jsx(l,{title:e.title,content:e.content,prev:e.prev,next:e.next}),s.jsx(o,{prev:e.prev,next:e.next})]}):s.jsx("div",{className:"pt-32 text-center text-white",children:"Not found"})}},73472:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>a,__esModule:()=>i,default:()=>n});let s=(0,r(86843).createProxy)(String.raw`C:\Users\tcaro\soupdejour\soupdejourtommy\app\layout.jsx`),{__esModule:i,$$typeof:a}=s,n=s.default},2255:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>a,__esModule:()=>i,default:()=>n});let s=(0,r(86843).createProxy)(String.raw`C:\Users\tcaro\soupdejour\soupdejourtommy\app\stories\[id]\page.jsx`),{__esModule:i,$$typeof:a}=s,n=s.default},57481:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var s=r(70337);let i=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]},4047:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[638,407,337],()=>r(13934));module.exports=s})();