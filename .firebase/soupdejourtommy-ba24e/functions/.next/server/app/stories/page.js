(()=>{var e={};e.id=747,e.ids=[747],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},39491:e=>{"use strict";e.exports=require("assert")},50852:e=>{"use strict";e.exports=require("async_hooks")},14300:e=>{"use strict";e.exports=require("buffer")},96206:e=>{"use strict";e.exports=require("console")},6113:e=>{"use strict";e.exports=require("crypto")},67643:e=>{"use strict";e.exports=require("diagnostics_channel")},9523:e=>{"use strict";e.exports=require("dns")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},85158:e=>{"use strict";e.exports=require("http2")},41808:e=>{"use strict";e.exports=require("net")},15673:e=>{"use strict";e.exports=require("node:events")},84492:e=>{"use strict";e.exports=require("node:stream")},47261:e=>{"use strict";e.exports=require("node:util")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},4074:e=>{"use strict";e.exports=require("perf_hooks")},77282:e=>{"use strict";e.exports=require("process")},63477:e=>{"use strict";e.exports=require("querystring")},12781:e=>{"use strict";e.exports=require("stream")},35356:e=>{"use strict";e.exports=require("stream/web")},71576:e=>{"use strict";e.exports=require("string_decoder")},24404:e=>{"use strict";e.exports=require("tls")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},29830:e=>{"use strict";e.exports=require("util/types")},71267:e=>{"use strict";e.exports=require("worker_threads")},59796:e=>{"use strict";e.exports=require("zlib")},20559:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>a.a,__next_app__:()=>p,originalPathname:()=>d,pages:()=>u,routeModule:()=>x,tree:()=>c});var s=t(50482),i=t(69108),o=t(62563),a=t.n(o),n=t(68300),l={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>n[e]);t.d(r,l);let c=["",{children:["stories",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,44685)),"C:\\Users\\tcaro\\soupdejour\\soupdejourtommy\\app\\stories\\page.jsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,73472)),"C:\\Users\\tcaro\\soupdejour\\soupdejourtommy\\app\\layout.jsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,69361,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],u=["C:\\Users\\tcaro\\soupdejour\\soupdejourtommy\\app\\stories\\page.jsx"],d="/stories/page",p={require:t,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/stories/page",pathname:"/stories",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},3651:(e,r,t)=>{Promise.resolve().then(t.bind(t,39149))},66460:(e,r,t)=>{Promise.resolve().then(t.bind(t,59049))},53399:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,2583,23)),Promise.resolve().then(t.t.bind(t,26840,23)),Promise.resolve().then(t.t.bind(t,38771,23)),Promise.resolve().then(t.t.bind(t,13225,23)),Promise.resolve().then(t.t.bind(t,9295,23)),Promise.resolve().then(t.t.bind(t,43982,23))},15849:(e,r,t)=>{"use strict";t.d(r,{H:()=>c,_:()=>u});var s=t(95344),i=t(3729),o=t(28185),a=t(62727),n=t(48414);let l=(0,i.createContext)(),c=({children:e})=>{let[r,t]=(0,i.useState)(null),c=async(e,r,t,s)=>{let i=await (0,a.Xb)(o.I,e,r);return await (0,a.ck)(i.user,{displayName:t}),await (0,n.pl)((0,n.JU)(o.db,"users",i.user.uid),{username:t,birthday:s,avatarUrl:"",bio:"",createdAt:Date.now()}),i.user},u=async()=>{let e=new a.hJ,r=await (0,a.rh)(o.I,e);await (0,n.pl)((0,n.JU)(o.db,"users",r.user.uid),{username:r.user.displayName,avatarUrl:r.user.photoURL,bio:"",birthday:""},{merge:!0})};return(0,i.useEffect)(()=>{let e=o.I.onAuthStateChanged(e=>{if(!e){t(null);return}let r=(0,n.JU)(o.db,"users",e.uid),s=(0,n.cf)(r,r=>{let s=r.data()||{};t({uid:e.uid,email:e.email,username:s.username||e.displayName||"User",avatarUrl:s.avatarUrl||"",bio:s.bio||"",birthday:s.birthday||""})});return()=>s()});return()=>e()},[]),s.jsx(l.Provider,{value:{user:r,emailSignIn:(e,r)=>(0,a.e5)(o.I,e,r),emailSignUp:c,googleSignIn:u,logOut:()=>(0,a.w7)(o.I)},children:e})},u=()=>(0,i.useContext)(l)},28185:(e,r,t)=>{"use strict";t.d(r,{I:()=>l,db:()=>c,t:()=>u});var s=t(76041),i=t(62727),o=t(48414),a=t(73424);let n=0===(0,s.C6)().length?(0,s.ZF)({apiKey:"AIzaSyAF8-fQl5ForsCDmsmcZJ7NIvfP0BxOIZE",authDomain:"soupdejourtommy-ba24e.firebaseapp.com",projectId:"soupdejourtommy-ba24e",storageBucket:"soupdejourtommy-ba24e.appspot.com",messagingSenderId:"880724282692",appId:"1:880724282692:web:71e1cc9f07dc8f90b21b11",measurementId:"G-YSN6SG0RZV"}):(0,s.C6)()[0],l=(0,i.v0)(n),c=(0,o.ad)(n),u=(0,a.cF)(n)},39149:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>h});var s=t(95344),i=t(47594),o=t.n(i),a=t(3729),n=t(93079),l=t(73728),c=t(32698),u=t(28963),d=t(20783),p=t.n(d),x=t(15849);function m(){let{user:e,logOut:r}=(0,x._)()||{},[t,i]=(0,a.useState)(!1),o=(0,a.useRef)(null);(0,a.useEffect)(()=>{let e=e=>{t&&o.current&&!o.current.contains(e.target)&&i(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[t]);let d=e?.avatarUrl&&""!==e.avatarUrl.trim()?e.avatarUrl:"/default-avatar.png";return(0,s.jsxs)("div",{className:"flex justify-between items-center w-full h-20 px-6 bg-secondary text-primary fixed top-0 left-0 z-20 shadow-md",children:[(0,s.jsxs)(p(),{href:"/",className:"text-2xl font-bold tracking-wide cursor-pointer",children:["Soup",s.jsx("span",{className:"text-accent",children:"DeJour"})]}),(0,s.jsxs)("ul",{className:"hidden md:flex items-center gap-8 text-lg",children:[s.jsx("li",{children:s.jsx(p(),{href:"/",children:"Home"})}),s.jsx("li",{children:s.jsx(p(),{href:"/stories",children:"Stories"})}),s.jsx("li",{children:s.jsx(p(),{href:"/reviews",children:"Reviews"})}),s.jsx("li",{children:s.jsx(p(),{href:"/first",children:"First"})})]}),(0,s.jsxs)("div",{className:"hidden md:flex items-center gap-5",children:[s.jsx(c.dVI,{size:20,className:"cursor-pointer"}),s.jsx(p(),{href:"https://www.instagram.com/soupdejourtommy/",children:s.jsx(u.Zf_,{size:20,className:"cursor-pointer"})}),e?(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[s.jsx(p(),{href:`/profile/${e.uid}`,children:s.jsx("img",{src:d,alt:"profile",className:"w-9 h-9 rounded-full cursor-pointer border border-primary/40 hover:opacity-80"})}),s.jsx("button",{onClick:r,className:"hover:text-accent transition",children:"Logout"})]}):s.jsx(p(),{href:"/login",className:"hover:text-accent",children:"Login"})]}),s.jsx("div",{onClick:()=>i(e=>!e),className:"md:hidden cursor-pointer",children:t?s.jsx(l.oHP,{size:22}):s.jsx(n.FlW,{size:22})}),s.jsx("div",{ref:o,className:`absolute bg-secondary w-full left-0 top-20 shadow-xl transition-all duration-300 md:hidden ${t?"opacity-100":"opacity-0 pointer-events-none"}`,children:(0,s.jsxs)("ul",{className:"flex flex-col gap-4 p-6 text-lg",children:[s.jsx(p(),{href:"/",onClick:()=>i(!1),children:"Home"}),s.jsx(p(),{href:"/forum",onClick:()=>i(!1),children:"Forum"}),s.jsx(p(),{href:"/blog",onClick:()=>i(!1),children:"Blog"}),s.jsx(p(),{href:"/first",onClick:()=>i(!1),children:"First"}),e&&(0,s.jsxs)(p(),{href:`/profile/${e.uid}`,className:"flex items-center gap-3 mt-4",onClick:()=>i(!1),children:[s.jsx("img",{src:d,className:"w-10 h-10 rounded-full border border-primary/40"}),s.jsx("p",{className:"text-primary",children:e.username})]}),s.jsx("div",{className:"flex items-center gap-4 pt-4 border-t mt-4",children:e?s.jsx("button",{onClick:()=>{r(),i(!1)},children:"Logout"}):s.jsx(p(),{href:"/login",onClick:()=>i(!1),children:"Login"})})]})})]})}function h({children:e}){return(0,s.jsxs)("html",{lang:"en",children:[s.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),s.jsx("body",{className:o().className,children:s.jsx(x.H,{children:(0,s.jsxs)("div",{className:"min-h-[100vh] bg-secondary",children:[s.jsx(m,{}),e]})})})]})}t(8484),t(4047)},59049:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>n});var s=t(95344),i=t(3729),o=t(20783),a=t.n(o);function n(){let[e,r]=(0,i.useState)([]),[t,o]=(0,i.useState)(!0),[n,l]=(0,i.useState)(null);return((0,i.useEffect)(()=>{(async function(){try{let e=await fetch("/api/stories");if(!e.ok)throw Error(`API error: ${e.status}`);let t=await e.json();Array.isArray(t)?r(t):l("Invalid data format")}catch(e){console.error("Error loading stories:",e),l(e.message)}finally{o(!1)}})()},[]),t)?s.jsx("div",{className:"pt-32 text-center text-white",children:"Loadingâ€¦"}):n?(0,s.jsxs)("div",{className:"pt-32 text-center text-white",children:["Error: ",n]}):(0,s.jsxs)("main",{className:"pt-32 max-w-3xl mx-auto px-4 text-white",children:[s.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Chronicles"}),s.jsx("ul",{className:"space-y-4",children:e.map(e=>s.jsx("li",{children:s.jsx(a(),{href:`/stories/${e.id}`,className:"block p-4 rounded-lg bg-neutral-900/40 hover:bg-neutral-900 transition",children:s.jsx("h2",{className:"text-xl font-semibold",children:e.title})})},e.id))})]})}},73472:(e,r,t)=>{"use strict";t.r(r),t.d(r,{$$typeof:()=>o,__esModule:()=>i,default:()=>a});let s=(0,t(86843).createProxy)(String.raw`C:\Users\tcaro\soupdejour\soupdejourtommy\app\layout.jsx`),{__esModule:i,$$typeof:o}=s,a=s.default},44685:(e,r,t)=>{"use strict";t.r(r),t.d(r,{$$typeof:()=>o,__esModule:()=>i,default:()=>a});let s=(0,t(86843).createProxy)(String.raw`C:\Users\tcaro\soupdejour\soupdejourtommy\app\stories\page.jsx`),{__esModule:i,$$typeof:o}=s,a=s.default},57481:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>i});var s=t(70337);let i=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]},4047:()=>{}};var r=require("../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[638,407,337],()=>t(20559));module.exports=s})();